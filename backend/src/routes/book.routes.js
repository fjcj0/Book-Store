import express from 'express';
import { addBook, addBorrowedBookUser, addSavedBookUser, books, borrowedBooks, borrowedBooksUser, deleteBook, deleteBorrowedBook, deleteSavedBook, editBook, findBook, getWeeklyBorrowedBookStats, returnBook, savedBookUser, totalBooks, totalBorrowedBooks, totalQuantity } from '../controllers/book.controller.js';
import upload from '../utils/multer.js';
import { verifyToken } from '../middleware/verifyToken.js';
import { verifyTokenAdmin } from '../middleware/verifyTokenAdmin.js';
const router = express.Router();
router.post('/add-book', verifyTokenAdmin, upload.single('picture'), addBook);
router.post('/edit-book', verifyTokenAdmin, upload.single('newPicture'), editBook);
router.post('/find-book', findBook);
router.delete('/delete-book', verifyTokenAdmin, deleteBook);
router.get('/books', books);
router.post('/add-saved-book-user', verifyToken, addSavedBookUser);
router.post('/saved-books-user', verifyToken, savedBookUser);
router.delete('/delete-saved-book-user', verifyToken, deleteSavedBook);
router.post('/add-borrowed-book-user', verifyToken, addBorrowedBookUser);
router.post('/borrowed-books-user', verifyToken, borrowedBooksUser);
router.delete('/delete-borrowed-book', verifyTokenAdmin, deleteBorrowedBook);
router.get('/borrowed-books', borrowedBooks);
router.post('/return-borrowed-book', verifyTokenAdmin, returnBook);
router.get('/total-book', totalBooks);
router.get('/total-borrowed-book', totalBorrowedBooks);
router.get('/total-quantity', totalQuantity);
router.get('/borrowed-book-last-week', getWeeklyBorrowedBookStats);
export default router;